let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.error("Invalid Pokemon object:",t)}function n(){return e}function i(e){return fetch(e.detailsUrl).then(e=>e.json()).then(t=>{e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types.map(e=>e.type.name),e.abilities=t.abilities.map(e=>e.ability.name)}).catch(e=>{console.error("Error loading Pokemon details:",e)})}function o(e){i(e).then(()=>{let t=document.getElementById("modal-name"),n=document.getElementById("modal-height"),i=document.getElementById("modal-weight"),o=document.getElementById("modal-types"),l=document.getElementById("modal-abilities"),a=document.getElementById("modal-image");t.innerText=e.name,n.innerText=`Height: ${e.height} m`,i.innerText=`Weight: ${e.weight} kg`,o.innerText=`Types: ${e.types.join(", ")}`,l.innerText=`Abilities: ${e.abilities.join(", ")}`,a.src=e.imageUrl,$("#modal-container").modal("show")})}return $("#modal-container").on("hidden.bs.modal",function(){let e=document.getElementById("modal-name"),t=document.getElementById("modal-height"),n=document.getElementById("modal-weight"),i=document.getElementById("modal-types"),o=document.getElementById("modal-abilities"),l=document.getElementById("modal-image");e.innerText="",t.innerText="",n.innerText="",i.innerText="",o.innerText="",l.src=""}),$("#modal-container .close-button").on("click",function(){$("#modal-container").modal("hide")}),{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector("#pokemon-list"),i=document.createElement("li");i.classList.add("list-group-item");let l=document.createElement("button");l.innerText=t.name,l.classList.add("btn","btn-primary"),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#modal-container"),i.appendChild(l),n.appendChild(i),l.addEventListener("click",function(){o(t)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e=>e.json()).then(e=>{e.results.forEach(e=>{t({name:e.name,detailsUrl:e.url})})}).catch(e=>{console.error("Error loading Pokemon list:",e)})},loadDetails:i,showDetails:o}}();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});